# -*- coding: utf-8 -*-
from trapezoidize import Trapezoidize
import matplotlib.pyplot as plt
from descartes import PolygonPatch
from shapely.geometry import  Polygon
# from polygonGenerator.generate import generatePolygon

# star = generatePolygon(250, 250, 200, .8, .8, 2)

star = [(417, 380), (378, 364), (390, 391), (371, 389), (382, 422), (375, 436), (338, 401), (326, 402), (319, 412), (318, 443), (301, 430), (295, 456), (282, 457), (270, 474), (255, 432), (244, 443), (230, 452), (214, 474), (197, 483), (198, 427), (179, 447), (178, 416), (160, 429), (157, 408), (144, 406), (133, 401), (119, 398), (122, 377), (102, 381), (87, 376), (92, 357), (72, 356), (80, 337), (55, 335), (77, 312), (63, 304), (63, 291), (58, 280), (26, 271), (85, 255), (28, 242), (61, 231), (50, 217), (54, 205), (75, 197), (81, 188), (82, 176), (91, 167), (101, 161), (111, 153), (70, 107), (91, 106), (114, 110), (111, 87), (118, 72), (134, 72), (139, 52), (167, 79), (180, 79), (185, 59), (202, 75), (207, 41), (223, 57), (232, 19), (246, 44), (261, 24), (272, 43), (284, 52), (291, 74), (315, 38), (322, 58), (333, 62), (342, 71), (350, 83), (379, 63), (365, 104), (373, 113), (388, 115), (392, 127), (386, 146), (406, 146), (419, 153), (446, 153), (442, 169), (427, 188), (444, 195), (463, 203), (423, 223), (437, 233), (458, 244), (400, 255), (472, 272), (428, 279), (431, 291), (448, 309), (443, 321), (410, 320), (437, 346), (424, 353), (380, 339)]
star = [(47, 227), (60, 222), (61, 217), (55, 209), (72, 207), (60, 198), (76, 196), (57, 184), (66, 181), (53, 169), (68, 168), (71, 163), (78, 160), (75, 151), (91, 154), (82, 141), (93, 141), (91, 132), (89, 123), (99, 123), (97, 113), (103, 110), (107, 105), (122, 112), (112, 92), (123, 95), (131, 95), (131, 84), (141, 87), (141, 76), (144, 68), (154, 73), (162, 74), (165, 66), (178, 81), (180, 68), (182, 57), (188, 55), (196, 60), (202, 55), (210, 62), (212, 41), (218, 40), (227, 54), (233, 44), (239, 50), (246, 49), (252, 62), (258, 43), (264, 54), (269, 62), (276, 60), (281, 65), (287, 66), (293, 67), (302, 56), (304, 69), (312, 63), (319, 63), (325, 64), (329, 70), (340, 61), (342, 71), (345, 79), (363, 62), (356, 86), (358, 94), (363, 97), (353, 119), (383, 91), (382, 102), (382, 111), (401, 101), (397, 113), (404, 116), (400, 128), (409, 128), (411, 134), (414, 140), (430, 137), (432, 144), (436, 149), (422, 163), (440, 162), (439, 169), (436, 177), (440, 182), (443, 188), (442, 195), (441, 202), (445, 207), (436, 215), (462, 217), (459, 224), (448, 232), (461, 237), (445, 244), (441, 250), (443, 257), (430, 262), (445, 269), (439, 275), (448, 283), (448, 289), (438, 294), (444, 302), (449, 310), (432, 311), (443, 322), (426, 322), (415, 323), (431, 338), (432, 345), (416, 343), (422, 354), (412, 354), (412, 362), (398, 359), (399, 368), (401, 377), (405, 388), (401, 394), (395, 397), (390, 401), (389, 410), (376, 405), (366, 402), (363, 408), (361, 416), (353, 415), (352, 427), (351, 438), (332, 414), (329, 422), (327, 434), (316, 423), (315, 438), (309, 440), (303, 440), (299, 450), (289, 434), (290, 475), (280, 459), (270, 430), (266, 447), (260, 445), (253, 450), (247, 441), (240, 455), (234, 452), (229, 446), (222, 447), (216, 442), (208, 453), (197, 469), (197, 442), (190, 443), (181, 450), (179, 437), (169, 444), (164, 440), (164, 425), (155, 429), (146, 432), (141, 427), (138, 419), (135, 414), (120, 422), (136, 392), (113, 410), (122, 390), (118, 386), (109, 387), (108, 380), (104, 375), (101, 369), (94, 368), (75, 374), (70, 369), (76, 356), (87, 343), (67, 347), (77, 334), (71, 330), (58, 329), (67, 318), (61, 314), (51, 310), (79, 296), (61, 294), (41, 292), (47, 284), (43, 278), (37, 272), (42, 265), (50, 258), (39, 252), (41, 246), (42, 239), (40, 232)]

trapezoidize = Trapezoidize(star)

trapezoids = trapezoidize.trapezoids

plt.figure()
for t in trapezoids:

    vertices = t.vertices()
    plt.gca().add_patch(PolygonPatch(Polygon(vertices)))
    plt.gca().autoscale(tight=True)

plt.show()